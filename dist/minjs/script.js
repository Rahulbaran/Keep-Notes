"use strict";const AppModule={notesArray:[],noteIdsArray:[],addNote(e){const t=new Date;let o;return o=0===this.notesArray.length?{note:e,id:0,date:`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}:{note:e,id:this.notesArray[this.notesArray.length-1].id+1,date:`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`},this.notesArray.push(o),this.noteIdsArray.push(o.id),localStorage.setItem("notes",JSON.stringify(this.notesArray)),localStorage.setItem("noteIds",JSON.stringify(this.noteIdsArray)),o},localNotesInArray(e,t){this.notesArray=e,this.noteIdsArray=t},deleteNote(e){const t=this.noteIdsArray.indexOf(e);if(t>=0)return this.notesArray.splice(t,1),this.noteIdsArray.splice(t,1),localStorage.setItem("notes",JSON.stringify(this.notesArray)),localStorage.setItem("noteIds",JSON.stringify(this.noteIdsArray)),t}},UIModule={selectors:{notesContainer:".notes__container",themeToggler:".theme__toggler",noteForm:".note__entry__form",inputField:".text__field"},addNoteInUI(e){const t=document.querySelector(this.selectors.notesContainer);let o='<div class="note" id="note-%id%"><div class="note__content">\n            <p>%note%</p><button class="delete__note__btn" title="Delete Note">\n            <span class="material-icons">delete_forever</span></button>\n            </div><h5 class="note__added__date">%date%</h5></div>';o=o.replace("%id%",e.id),o=o.replace("%note%",e.note),o=o.replace("%date%",`${e.date}`),t.insertAdjacentHTML("afterbegin",o)},localNotesInUI(e){let t=document.querySelector(this.selectors.notesContainer);e.forEach((e=>{let o='<div class="note" id="note-%id%"><div class="note__content">\n            <p>%note%</p><button class="delete__note__btn" title="Delete Note">\n            <span class="material-icons">delete_forever</span></button>\n            </div><h5 class="note__added__date">%date%</h5></div>';o=o.replace("%id%",e.id),o=o.replace("%note%",e.note),o=o.replace("%date%",e.date),t.insertAdjacentHTML("afterbegin",o)}))},deleteNoteFromUI(e){const t=document.querySelector(this.selectors.notesContainer),o=t.childNodes;t.removeChild(o[o.length-1-e])}},EventModule={changeMode(e){document.querySelector(e.selectors.themeToggler).onclick=function(){localStorage.getItem("theme")?(document.documentElement.className="light--theme",this.classList.remove("translate"),localStorage.removeItem("theme")):(document.documentElement.className="dark--theme",this.classList.add("translate"),localStorage.setItem("theme","dark"))}},addNote(e,t){const o=document.querySelector(t.selectors.noteForm),n=document.querySelector(t.selectors.inputField);o.addEventListener("submit",(o=>{o.preventDefault();const s=n.value.trim("");if(n.value="",n.focus(),s.length>0&&s.length<=50){const o=e.addNote(s);t.addNoteInUI(o)}}))},addLocalStorageNotes(e,t){window.onload=()=>{const o=JSON.parse(localStorage.getItem("notes")),n=JSON.parse(localStorage.getItem("noteIds"));o&&n&&(t.localNotesInUI(o),e.localNotesInArray(o,n)),document.querySelector(t.selectors.inputField).focus();const s=document.querySelector(t.selectors.themeToggler);localStorage.getItem("theme")&&(document.documentElement.className="dark--theme",s.classList.add("translate"))}},removeNote(e,t){document.querySelector(t.selectors.notesContainer).addEventListener("click",(o=>{const n=o.target.parentNode;if(n.matches("button")){const o=+n.parentNode.parentNode.id.split("-")[1],s=e.deleteNote(o);t.deleteNoteFromUI(s)}}))},init(e,t){this.changeMode(t),this.addNote(e,t),this.addLocalStorageNotes(e,t),this.removeNote(e,t)}};EventModule.init(AppModule,UIModule);
//# sourceMappingURL=script.js.map
